{"ast":null,"code":"var _jsxFileName = \"/Users/tadiparthisushma/Desktop/Project/frontend/src/pages/ViewBooking.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport BookingCard from \"../components/Booking\";\nimport { toast } from \"react-toastify\";\nimport Container from \"react-bootstrap/Container\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Bookings = () => {\n  _s();\n  function getDate(date) {\n    const newDate = new Date(date);\n    return newDate.toISOString().slice(0, 16);\n  }\n  const [bookings, setBookings] = useState([]);\n  useEffect(() => {\n    axios.get(\"https://hostel-booking-system-backend.onrender.com/bookings\").then(response => {\n      setBookings(response.data);\n      console.log(response.data);\n    });\n  }, []);\n  function notify(temp) {\n    // booking re-fund according to time of cancellation\n    if (parseInt(temp) < 24) toast.info(\"Booking Deleted - NO REFUND\");else if (parseInt(temp) < 48) toast.info(\"Booking Deleted - Partial REFUND\");else toast.info(\"Booking Deleted - Full REFUND\");\n  }\n  const handleDelete = id => {\n    // eslint-disable-next-line no-restricted-globals\n    if (confirm(\"Do you want to continue delete the booking\") === true) {\n      axios.get(`https://hostel-booking-system-backend.onrender.com/${id}`).then(response => {\n        let currentDate = new Date();\n        currentDate = getDate(currentDate);\n        let createdAt = getDate(response.data.startTime);\n        const milliseconds = Math.abs(Date.parse(currentDate) - Date.parse(createdAt));\n        let temp = milliseconds / 36e5;\n        notify(temp);\n      });\n      axios.delete(`https://hostel-booking-system-backend.onrender.com/${id}`).then(() => {\n        setBookings(bookings.filter(booking => booking._id !== id));\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"View Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"container\",\n      children: bookings.map(booking => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item\",\n        children: [/*#__PURE__*/_jsxDEV(BookingCard, {\n          booking: booking\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger btn1\",\n          onClick: () => handleDelete(booking._id),\n          children: \"Delete Booking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, booking._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(Bookings, \"mhYuI94oNh8neuxZ6UayUTRC/Ns=\");\n_c = Bookings;\nexport default Bookings;\nvar _c;\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"names":["React","useState","useEffect","axios","BookingCard","toast","Container","jsxDEV","_jsxDEV","Bookings","_s","getDate","date","newDate","Date","toISOString","slice","bookings","setBookings","get","then","response","data","console","log","notify","temp","parseInt","info","handleDelete","id","confirm","currentDate","createdAt","startTime","milliseconds","Math","abs","parse","delete","filter","booking","_id","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","onClick","_c","$RefreshReg$"],"sources":["/Users/tadiparthisushma/Desktop/Project/frontend/src/pages/ViewBooking.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport BookingCard from \"../components/Booking\";\nimport { toast } from \"react-toastify\";\n\nimport Container from \"react-bootstrap/Container\";\n\nconst Bookings = () => {\n  function getDate(date) {\n    const newDate = new Date(date);\n    return newDate.toISOString().slice(0, 16);\n  }\n  const [bookings, setBookings] = useState([]);\n\n  useEffect(() => {\n    axios\n    .get(\"https://hostel-booking-system-backend.onrender.com/bookings\")\n      .then((response) => {\n        setBookings(response.data);\n        console.log(response.data)\n      });\n  }, []);\n\n  function notify(temp) {   // booking re-fund according to time of cancellation\n    if (parseInt(temp) < 24) toast.info(\"Booking Deleted - NO REFUND\");\n    else if (parseInt(temp) < 48) toast.info(\"Booking Deleted - Partial REFUND\");\n    else toast.info(\"Booking Deleted - Full REFUND\");\n  }\n  const handleDelete = (id) => {\n    // eslint-disable-next-line no-restricted-globals\n    if (confirm(\"Do you want to continue delete the booking\") === true) {\n      axios\n      .get(`https://hostel-booking-system-backend.onrender.com/${id}`)\n        .then((response) => {\n          let currentDate = new Date();\n          currentDate = getDate(currentDate);\n          let createdAt = getDate(response.data.startTime);\n          const milliseconds = Math.abs(\n            Date.parse(currentDate) - Date.parse(createdAt)\n          );\n          let temp = milliseconds / 36e5;\n\n          notify(temp);\n        });\n      axios\n      .delete(`https://hostel-booking-system-backend.onrender.com/${id}`)\n        .then(() => {\n          setBookings(bookings.filter((booking) => booking._id !== id));\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>View Bookings</h2>\n      <Container className=\"container\">\n        {bookings.map((booking) => (\n          <div className=\"item\" key={booking._id}>\n            <BookingCard booking={booking} />\n            <button\n              className=\"btn btn-danger btn1\"\n              onClick={() => handleDelete(booking._id)}\n            >\n              Delete Booking\n            </button>\n          </div>\n        ))}\n      </Container>\n    </div>\n  );\n};\n\nexport default Bookings;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}